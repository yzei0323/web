<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.0/jquery.min.js"></script>
<script>

function getData() {
	//alert("dfsjfhsdkjf");
	
	// 0) 함수가 잘 동작되는지 확인한다 (버튼을 클릭했을 때)
	// 1) 서버와 통신해서 데이터만 받아오기
	// 2) 데이터를 사용해서 화면의 일부를 갱신한다
	
	//$.ajax(); 제이쿼리jquery의 ajax() 매서드 호출 => 서버와 통신함
	//매개변수로 서버와 통신에 관련된 정보를 제공한다
	
	$.ajax({
		type: "get",
		url: "/day06Prac/foodDataList",
		success: function( data ){ //이름 data 말고 아무거나 해도 상관없음
			console.log(data);

			//데이터 화면에 보여주기
			let result = document.getElementById("result");
			
			//
			let str="<ul>";
			for(let i=0; i<data.length; i++){
				let foodItem = data[i];
				console.log("item");
				console.log(foodItem);
				
				str += "<li>" + foodItem.name + foodItem.price + "</li>";
			}
			
			str +="</ul>"
			
			result.innerHTML = str;
			
		},  //콜백함수
		error: function( aaa ){ //얘도 상관없음 그래서 aaa라고 햇덩
			console.log(aaa);
		}
	});
}

</script>
</head>
<body>

<div id="result"></div>

<button onclick="getData()">음식정보 가져오기</button>
</body>
</html>